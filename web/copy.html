<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="./css/index.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="address=no">

    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#202020">

    <title>Railway Scanner</title>
    <!--	-->
    <!--	-->
    <script type="text/javascript" src="/eel.js"></script>
    <script type="text/javascript">
        eel.expose(updateImage)

        function updateImage(imageData) {
            const imgElement = document.getElementById('image');
            imgElement.src = `data:image/jpeg;base64,${imageData}`;
        }


        // document.getElementById('open-camera').onclick = () => {
        // 	eel.open_camera()
        // }

        const js_open_camera = () => {
            eel.open_camera()
        }

        // eel.open_camera()
    </script>


    <!--	-->
    <!--	-->
</head>

<body>
<div class='main-wrapper'>
    <div class="header">
        <div class='logo-wrapper'>
            <img class="rr-logo" src="./img/Russian_Railways_Logo.svg.png"/>
            <div class='text-logo'>
                Распознание сущностей
            </div>
        </div>
        <div class='play-wrapper'>
            <div class='play-button'>
                <svg class='play-icon' xmlns="http://www.w3.org/2000/svg" width="10" height="12" viewBox="0 0 10 12"
                     fill="none">
                    <path
                            d="M9.5 5.13397C10.1667 5.51887 10.1667 6.48113 9.5 6.86603L2 11.1962C1.33333 11.5811 0.5 11.0999 0.5 10.3301L0.5 1.66987C0.5 0.900073 1.33333 0.418947 2 0.803848L9.5 5.13397Z"
                            fill="#D9D9D9"/>
                </svg>
            </div>
        </div>
    </div>

    <div class='content-wrapper' id="content-wrapper">
        <div class='start-wrapper'>
            <div class='title'>
                Начать работу
            </div>
            <div class='description'>
                Выберите источник для анализа.
            </div>
            <div
                    class='main-button'
                    id="open-camera"
                    onclick="js_open_camera()"
            >
                <div class='text-button'>
                    Обзор с камер
                </div>
            </div>
            <div class='field'>
                <div class='text-title-field'>
                    Добавьте файл или перетащите его в это окно
                </div>
                <div class="text-desc-field">
                    Поддерживаемые форматы: mp4, jpeg
                </div>
            </div>
        </div>
        <div class='add-wrapper'>
            <div class='settings-wrapper'>
                <div class='title'>
                    Параметры
                </div>
                <div class='object-wrapper-settings'>
                    <div class='text-wrapper-settings'>
                        <div class='title-settings'>
                            Объект
                        </div>
                    </div>
                    <div class='params-wrapper'>
                        <div class='params-item'>
                            <div class='param-title'>
                                Размер шрифта
                            </div>
                            <div class='counter'>
                                <div class="count-button">
                                    <svg class='count-icon' xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                         viewBox="0 0 16 16" fill="none">
                                        <rect width="16" height="16" rx="8"/>
                                        <rect x="4" y="7" width="8" height="2" rx="1" fill="#D9D9D9"/>
                                    </svg>
                                </div>
                                <div class='text-count'>
                                    12
                                </div>
                                <div class="count-button">
                                    <svg class='count-icon' xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                         viewBox="0 0 16 16" fill="none">
                                        <rect width="16" height="16" rx="8"/>
                                        <rect x="9.00018" y="4.00005" width="8" height="2" rx="1"
                                              transform="rotate(90 9.00018 4.00005)"
                                              fill="#D9D9D9"/>
                                        <rect x="4" y="7" width="8" height="2" rx="1" fill="#D9D9D9"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class='breaker'></div>
                        <div class='params-item'>
                            <div class='param-title'>
                                Цвет рамки
                            </div>
                            <div class='color-picker'>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div
                    class='info-wrapper'>
                <img class='hack-logo'
                     src="./img/83584adf015b35772b15e04232bad07a.png"/>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
	const state = 'second'
	const second_screen = `
		<div class='content-wrapper'>
            <div class='video-box'></div>
        </div>
		`

	if (state === 'second') {
		eel.second_screen()
		document.getElementById('content-wrapper').innerHTML = second_screen
	}
</script>

</body>

</html>